# 网络攻击检测系统 - 环境配置文档

## 1. 项目概述

本项目是一个网络攻击检测系统，采用多种机器学习和深度学习算法来识别和分类网络攻击。系统包含后端模型训练与预测代码，以及前端可视化界面，能够对UNSW-NB15数据集进行处理和分析。

主要功能模块：
- 数据预处理与特征工程
- 多种机器学习模型实现（XGBoost、随机森林、CatBoost）
- Stacking集成学习方法
- 神经网络模型
- 前端可视化展示

## 2. 项目结构

```
d:\code\大作业\
├── web\                  # 前端界面文件
│   ├── index.html        # 主页面HTML
│   ├── script.js         # 前端交互脚本
│   ├── styles.css        # 页面样式
│   └── test_data.csv     # 测试数据样例
├── 代码\                  # 后端模型代码
│   ├── stacking.py       # Stacking集成学习模型
│   ├── 神经网络.py        # 神经网络模型
│   ├── xgboost_model.py  # XGBoost模型
│   ├── random_forest_model.py # 随机森林模型
│   ├── catboost_model.py # CatBoost模型
│   ├── requirements.txt  # Python依赖包列表
│   ├── env.txt           # 环境配置文件
│   └── __pycache__\      # Python编译缓存
└── 数据\                  # 数据集文件
    ├── UNSW_NB15_training-set.csv # 训练集数据
    ├── UNSW_NB15_testing-set.csv  # 测试集数据
    ├── UNSW-NB15_features.csv     # 特征说明文件
    └── UNSW-NB15_LIST_EVENTS.csv  # 事件列表
```

## 3. 环境要求

### 3.1 后端环境要求

- **Python 版本**: 3.8 或更高
- **主要依赖包**:
  - pandas==2.0.3
  - numpy==1.24.3
  - matplotlib==3.7.2
  - seaborn==0.12.2
  - scikit-learn==1.3.0
  - pytorch==2.0.1
  - pytorch-tabnet==4.1.0
  - xgboost==1.7.6
  - catboost==1.2
  - torch==2.0.1

### 3.2 前端环境要求

- **浏览器**: Chrome 90+、Firefox 88+、Safari 14+、Edge 90+
- **网络连接**: 用于加载Chart.js库（如无网络，可下载Chart.js本地部署）

## 4. 环境配置步骤

### 4.1 后端环境配置

#### 4.1.1 安装Python

如果尚未安装Python，请从[Python官网](https://www.python.org/downloads/)下载并安装Python 3.8或更高版本。

#### 4.1.2 创建虚拟环境（推荐）

```bash
# Windows系统
python -m venv venv
venv\Scripts\activate

# Linux/Mac系统
python3 -m venv venv
source venv/bin/activate
```

#### 4.1.3 安装依赖包

进入项目的"代码"目录，执行以下命令安装所有依赖：

```bash
cd d:\code\大作业\代码
pip install -r requirements.txt
```

### 4.2 前端环境配置

前端部分无需特殊配置，只需确保浏览器支持现代JavaScript特性。如果遇到Chart.js加载问题，可以下载[Chart.js](https://www.chartjs.org/docs/latest/getting-started/installation.html)本地文件并修改index.html中的引用路径。

## 5. 数据准备

### 5.1 数据集下载

UNSW-NB15数据集已包含在项目的"数据"目录中，无需额外下载。如需要更新数据集，可从[UNSW-NB15数据集官网](https://research.unsw.edu.au/projects/unsw-nb15-dataset)获取最新版本。

### 5.2 数据集说明

- **UNSW_NB15_training-set.csv**: 训练集数据，用于模型训练
- **UNSW_NB15_testing-set.csv**: 测试集数据，用于模型评估
- **UNSW-NB15_features.csv**: 特征说明文件，包含所有特征的详细描述
- **UNSW-NB15_LIST_EVENTS.csv**: 事件列表，包含所有攻击类型的说明

## 6. 模型使用说明

### 6.1 运行模型

进入项目的"代码"目录，执行相应的Python脚本来运行模型：

```bash
cd d:\code\大作业\代码

# 运行Stacking集成模型
python stacking.py

# 运行神经网络模型
python 神经网络.py

# 运行单个模型（以XGBoost为例）
python xgboost_model.py
```

### 6.2 使用Web界面

1. 使用浏览器打开`d:\code\大作业\web\index.html`
2. 选择CSV格式的测试数据文件上传
3. 选择预测模型（CatBoost、随机森林、XGBoost或Stacking）
4. 点击"开始预测"按钮
5. 查看预测结果和可视化图表

## 7. 常见问题与解决方案

### 7.1 Python环境问题

- **问题**: 安装依赖包时出现版本冲突
  **解决方案**: 使用虚拟环境隔离项目环境，或使用conda创建环境

- **问题**: 缺少C++编译器导致某些包安装失败
  **解决方案**: 安装Visual Studio Build Tools或MinGW（Windows系统）

### 7.2 模型运行问题

- **问题**: 模型训练时间过长
  **解决方案**: 调整模型参数减少训练轮次，或使用更强大的硬件

- **问题**: 内存不足错误
  **解决方案**: 减小批次大小，或对大型数据集进行采样

### 7.3 前端界面问题

- **问题**: Chart.js加载失败
  **解决方案**: 下载Chart.js本地文件并修改引用路径

- **问题**: CSV文件上传失败
  **解决方案**: 确保上传的CSV文件格式与UNSW-NB15数据集格式一致

## 8. 硬件要求

- **推荐配置**:
  - CPU: Intel Core i5或更高
  - 内存: 8GB或更高
  - 存储: 5GB可用空间
  - GPU: 对于深度学习模型，推荐NVIDIA GPU（支持CUDA）以加速训练

## 9. 注意事项

- 项目中的文件路径硬编码为Windows格式（如`d:\code\大作业\数据\UNSW_NB15_training-set.csv`），在Linux/Mac系统上运行时需要修改为对应的路径格式
- 确保有足够的磁盘空间存储模型文件和中间结果
- 使用大型数据集进行训练时，可能需要较长时间和较高的计算资源

## 10. 扩展与维护

如需扩展或维护项目，建议：
- 添加新模型时，参考现有的模型结构进行实现
- 更新前端功能时，确保与后端API保持兼容
- 定期更新依赖包以获取最新的功能和安全修复

---

文档创建日期: 2023-09-23